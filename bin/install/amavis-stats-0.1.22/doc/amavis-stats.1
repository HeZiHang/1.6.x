.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "AMAVIS-STATS 1"
.TH AMAVIS-STATS 1 "2009-02-24" "0.1.22" "amavisd-new companion"
.SH "NAME"
\&\fBamavis\-stats\fR \- generate e\-mail statistics from amavisd\-new (sys)log files.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBamavis-stats\fR [options]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBamavis-stats\fR is a simple e\-mail statistics generator based on amavisd-new
and rrdtool.
.PP
Statistics are read from amavisd-new (sys)log entries and stored in \s-1RRD\s0 files.
.PP
There is an accompanying php script to actually generate the web pages and graphs.
This man page is just for the perl script daemon which parses the log files.
.Sh "\s-1OVERVIEW\s0"
.IX Subsection "OVERVIEW"
In this man page you will find general information on the use of the \fBamavis-stats\fR
daemon.
.PP
For a more detailed description of how to use the individual options of the
\&\fBamavis-stats\fR daemon, check the built-in help and included documentation.
.IP "options" 4
.IX Item "options"
[\fBdebug\fR] ( runs in foreground )
.Sp
[\fBforeground\fR]
.Sp
[\fBhelp\fR]
.Sp
[\fBreload\fR]
.Sp
[\fBstart\fR] ( kept for legacy )
.Sp
[\fBstop\fR]
.IP "options \fI( requiring arguments )\fR" 4
.IX Item "options ( requiring arguments )"
[\fB\-c\ <config-file>\fR]
.Sp
[\fB\-g\ <group>\fR] ( requires \-u option to be specified )
.Sp
[\fB\-u\ <user>\fR]
.SH "FILES"
.IX Header "FILES"
.IP "\fI\s-1SCRIPTS\s0, \s-1CONFIG\s0 \s-1AND\s0 \s-1DIRECTORIES\s0\fR" 4
.IX Item "SCRIPTS, CONFIG AND DIRECTORIES"
\&\fB/usr/local/sbin/amavis\-stats\fR
 amavis-stats daemon.
.Sp
\&\fB/usr/local/etc/amavis\-stats.conf\fR
 config file for amavis-stats daemon.
.Sp
\&\fB/usr/local/share/amavis\-stats/amavis\-stats.php\fR
 php script, for generating web-based graphs.
.Sp
\&\fB/usr/local/share/amavis\-stats/amavis\-stats.php.conf\fR
 config file for php script.
.Sp
\&\fB/usr/local/share/amavis\-stats/amavis\-stats.alias.conf\fR
 config file for apache.
.Sp
\&\fB/usr/local/var/lib/amavis\-stats/\fR
 location of rrd files and state information.
.Sp
\&\fB/usr/local/var/cache/amavis\-stats/\fR
 image cache directory, where web images are stored.
.IP "\fI\s-1PNG\s0 \s-1IMAGES\s0 \s-1AND\s0 \s-1FONTS\s0 \s-1FOR\s0 \s-1BUTTONS\s0\fR" 4
.IX Item "PNG IMAGES AND FONTS FOR BUTTONS"
\&\fB/usr/local/share/amavis\-stats/ChalkboardBold.ttf\fR
 default truetype font.
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_center_blue.png\fR
 button center (blue)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_center_gray.png\fR
 button center (gray)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_center_white.png\fR
 button center (white)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_left_blue.png\fR
 button left (blue)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_left_gray.png\fR
 button left (gray)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_left_white.png\fR
 button left (white)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_right_blue.png\fR
 button right (blue)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_right_gray.png\fR
 button right (gray)
.Sp
\&\fB/usr/local/share/amavis\-stats/tab_right_white.png\fR
 button right (white)
.Sp
\&\fB/usr/local/share/amavis\-stats/bullet_center_blue.png\fR
 button center (blue)
.Sp
\&\fB/usr/local/share/amavis\-stats/bullet_left_blue.png\fR
 button left (blue)
.Sp
\&\fB/usr/local/share/amavis\-stats/bullet_right_blue.png\fR
 button right (blue)
.Sp
You can substitue fonts and png images to customize the appearance.
.SH "AUTHOR"
.IX Header "AUTHOR"
Dale Walsh <buildsmart@daleenterprise.com>
